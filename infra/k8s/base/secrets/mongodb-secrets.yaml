# Kubernetes Secrets Template - MongoDB Connection Strings
#
# Values must be base64-encoded before applying to the cluster.
# Connection strings from Phase 3 MongoDB deployment.
#
# To encode a value:
#   echo -n 'mongodb://...' | base64
#
# IMPORTANT: Replace passwords with actual values from MongoDB secrets!

apiVersion: v1
kind: Secret
metadata:
  name: mongodb-secrets
type: Opaque
data:
  # BFF MongoDB URI (sessions database)
  # Format: mongodb://root:<password>@mongodb-bff-0.mongodb-bff.NAMESPACE.svc.cluster.local:27017/vinylvault_bff?authSource=admin
  # Get password from: kubectl get secret mongodb-bff-secret -n NAMESPACE -o jsonpath='{.data.mongodb-root-password}' | base64 -d
  MONGODB_BFF_URI: "REPLACE_WITH_BASE64_ENCODED_BFF_MONGODB_URI"
  
  # Backend Registry MongoDB URI
  # Format: mongodb://root:<password>@mongodb-backend-0.mongodb-backend.NAMESPACE.svc.cluster.local:27017/vinylvault_registry?authSource=admin
  # Get password from: kubectl get secret mongodb-backend-secret -n NAMESPACE -o jsonpath='{.data.mongodb-root-password}' | base64 -d
  MONGODB_REGISTRY_URI: "REPLACE_WITH_BASE64_ENCODED_REGISTRY_MONGODB_URI"
  
  # Backend Tenant Base URI (without database name)
  # Format: mongodb://root:<password>@mongodb-backend-0.mongodb-backend.NAMESPACE.svc.cluster.local:27017?authSource=admin
  MONGODB_URI_BASE: "REPLACE_WITH_BASE64_ENCODED_BASE_MONGODB_URI"
